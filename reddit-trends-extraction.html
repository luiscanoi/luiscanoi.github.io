<!DOCTYPE html>
<html lang="en" class="no-js classic-page-layout " data-audio-wind="audio/wind.mp3" data-audio-wind-reverse="audio/wind-reverse.mp3" data-audio-tick="audio/tick.mp3">
<head>
    
		<meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Luis Cano, Resume & Portfolio">
        <meta name="keywords" content="vcard, resume, portfolio">
        <meta name="author" content="Luis Cano">
        <meta name="theme-color" content="#1755cf" />

        <title>Luis Cano</title>

        <!-- FAV and TOUCH ICONS -->
        <link rel="shortcut icon" href="images/ico/favicon.ico">
        <link rel="apple-touch-icon" href="images/ico/apple-touch-icon.png">
		 
        <!-- FONTS -->
        <link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Poppins:300,300i,400,400i,600,600i,700,700i" rel="stylesheet">
                         
       
        <!-- STYLES -->
        <link rel="stylesheet" type="text/css" href="css/normalize.css">
        <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="js/nprogress/nprogress.css">
        <link rel="stylesheet" type="text/css" href="js/jquery.magnific-popup/magnific-popup.css">
        <link rel="stylesheet" type="text/css" href="css/fonts/fontello/css/fontello.css">
        <link rel="stylesheet" type="text/css" href="css/align.css">
        <link rel="stylesheet" type="text/css" href="css/layout.css">
        <link rel="stylesheet" type="text/css" href="css/main.css">
        <link rel="stylesheet" type="text/css" href="css/768.css">

        
        <!-- INITIAL SCRIPTS -->
<script src="js/jquery-3.2.1.min.js"></script>
    <!-- Replace styles from layout & main with one of the versions found in css/special/stylev# -->
    <link rel="stylesheet" type="text/css" href="css/special/stylev1.css"> 
</head>
    
    
    
	<body>
    	
        
      	
        
        
        
        
        
        
        
          
        
        <!-- PAGE -->
	<div id="page" class="hfeed site">
            
            <!-- .site-main -->
		  	<main id="main" class="site-main cd-main">
          
          
			
            
            
                <!-- HEADER -->
                <header id="masthead" class="header" role="banner">
                    
                    <!-- header-wrap -->
                    <div class="header-wrap layout-full">
                        
                        <img src="images/home/home.jpg" alt="profile-image">

                        <h1 class="site-title">Luis Cano</h1>
                        <p class="site-description">Data Analyst / Analytics Engineering</p>
                        
                        <!-- header-social -->
                        <div class="header-bottom">
                        
                            <a class="social-link linkedin" href="https://www.linkedin.com/in/luis-cano-irigoyen-0624381ba/"></a>
                            <a class="social-link github" href="https://github.com/luiscanoi"></a>
                            <a class="social-link twitter" href="https://x.com/LuisCanoi?s=09"></a>
                            <a class="social-link instagram" href="https://www.instagram.com/luiscano00?igsh=c2Q4YjI4NGVuNmc1"></a>

                        </div>
                        <!-- header-social -->
                        
                        <!-- NAV MENU -->
                        <nav id="primary-navigation" class="site-navigation primary-navigation" role="navigation">
                            <div class="nav-menu menu-with-icons">
                                <ul>
<li><a class="home" href="index.html">Home</a></li>
                                <li><a class="return" href="portfolio.html">Back To All Projects</a></li>
                                <li><a class="search-toggle">Search</a></li>
                    	
                    			</ul>
                            </div>
                        </nav>
                        <!-- NAV MENU -->
                        
                        
                        
                        <!-- SEARCH --> 
                        <div class="header-search">
                            <form role="search" method="get" id="search-form" action="#">
                              <input type="text" value="" name="s" id="search" placeholder="type and hit enter">
                              <input type="submit" id="search-submit" title="Search" value="→">
                            </form>
                        </div>
                        <!-- SEARCH -->
                        
                        
                    </div>
                    <!-- header-wrap -->
                    
                </header>
                <!-- HEADER -->
            
            
            
            
                
                
                <!-- site-middle -->
                <div class="site-middle">
                
                
                
                     
                
                     
                    
                     
                    
                     
                    <div class="layout-fixed"> 
                        <div id="primary" class="content-area">
                    
                    
                     
                    
                     
                
                    
        
                    
                            <!-- site-content -->
                            <div id="content" class="site-content" role="main"> <!-- .blog-single -->
                                <div class="blog-single page-layout">
                                
                                        
                                        <!-- .hentry -->
                                        <article class="post type-post hentry">
                                        
                                        
                                          <!-- .entry-header -->
                                          <header class="entry-header">
                                            <h1 class="entry-title">Programmatic Reddit Trends Extraction</h1>
                                            
                                            <!-- .entry-meta -->
                                            <div class="entry-meta">
                                                <span class="entry-date">
                                                    <time class="entry-date">December 02, 2025</time>
                                                </span> 
                                                <span class="cat-links">
                                                    <a href="#" title="View all posts in Data" rel="category tag">Data</a>
                                                </span>	
                                                <!--<span class="edit-link">
                                                    <a class="post-edit-link" href="#">Edit</a>
                                                </span>-->
                                            </div>
                                            <!-- .entry-meta -->
                                            
                                          </header>
                                          <!-- .entry-header -->
                                          
                                          <!-- .featured-image -->  
                                          <div class="featured-image">
                                            <img src="images/portfolio/reddit-logo.jpg" alt="blog-image">
                                          </div>
                                          <!-- .featured-image --> 
                                          
                                          
                                          <!-- .entry-content --> 
                                          <div class="entry-content">
                                               
                                                <p>Have you ever seen a topic that just takes off and thought, <i>"if only we had seen this a week earlier"</i>? Well... while working with a Content SEO team for a while this was a common issue: <b>How can you be the first to capture a topic before it's everywhere</b>, before it is so obvious and all your competitors are alreading targeting it.</p>
                                                
                                                <p>That's the problem we aimed to solve with this project; exploring trends data sources.</p>
                                                
                                                <h2>Introduction</h2>
                                                <p class="drop-cap">Communities like Reddit, forums, and niche social platforms surface ideas long before they show up in mainstream metrics. New tools, workflows, frustrations, and creative experiments often appear as dozens of small conversations before reaching a viral spike. By the time something is clearly “trending,” the opportunity window may already be closing.</p>
                                                
                                                <p>In this guide, we build a practical system that helps you spot those early signals. Not by chasing keywords, but by understanding what people are actually talking about.</p>
                                                
                                                <p>Trends emerge where real people exchange ideas. That's why we started by identifying the places where our target audience already goes to learn, share their work, and get inspired from others.</p>

                                                <p>For our use case, that research led us to a curated set of creative communities on <b>Reddit</b>. Those subreddits became the input to the rest of the pipeline, grounding every downstream result in conversations that mattered to the people we cared about.</p>

                                                <p>And the same approach may apply to you. When you build a custom trend engine around the communities your audience actually participates in, you're extracting signals directly from the source, not relying on generic, keyword-driven trend tools that blur intent and lag behind emerging ideas.</p>

                                                
                                                <h3>A few difficulties with trends detection</h3>
                                                <p>Naive keyword monitoring struggles in real communities: people use different words for the same idea, slang changes quickly, and emerging topics often appear as many small posts which can be spread out.</p>
                                                <p>By using semantic embeddings to cluster documents by meaning rather than exact tokens, paraphrases and vocabulary drift become much less brittle. Once documents live in a semantic space, you can cluster, label, and rank topics with far higher reliability than keyword heuristics.</p>
                                                
                                                <h3>Pipeline Overview</h3>
                                                <p>The end-to-end architecture we used looks as follows:</p>
                                                <ol>
                                                    <li><p>Input ingestion: Download documents for a curated set of Reddit communities</p></li>
                                                    <li><p>Preprocessing: minimal normalization plus language filtering</p></li>
                                                    <li><p>Topic modeling: cluster documents into semantic topics with BERTopic</p></li>
                                                    <li><p>Trend scoring: compute a recency-weighted engagement growth metric</p></li>
                                                    <li><p>Output generation</p></li>
                                                </ol>
                                                <p>For the process we established relevant time windows to export the data and implement the trend scoring. These windows most likely depend on the volatility of the data source (communities) and the frequency of pipeline executions.</p>

                                                <h2>1. Input ingestion</h2>
                                                <p>In our use case, subject matter experts provided a list of subreddits where our target audience shares their work and gets inspiration from.</p>

                                                <h3>Reddit ingestion with PRAW</h3>
                                                
                                                <p>We ingested posts via Reddit's public API using the <a href="https://praw.readthedocs.io/en/stable/" target="_blank">Python PRAW</a> wrapper. You will need a Reddit developer application to obtain API credentials (go to <a href="https://www.reddit.com/prefs/apps" target="_blank">https://www.reddit.com/prefs/apps</a>).</p>
                                                
                                                <h4>Avoiding Rate limits</h4>

                                                <p>Reddit's public API does impose limits on how many posts you can retrieve from a single listing. Rather than trying to pull everything, we scoped the problem to what actually mattered for trend detection: recent activity. For our use case, posts from roughly the last two months were enough to capture emerging signals.</p>
                                                
                                                <p>To make sure we still achieved good coverage within those constraints, even in active communities with more than a thousand relevant posts, we relied on a simple coverage strategy: querying multiple listing endpoints. Each endpoint surfaces a slightly different slice of activity (different 1000 posts), and stitched together they provide a more complete view of the data.</p>

                                                <p>In the pipeline, for each subreddit community instance we created the following:</p>

                                                <code>generators = [
    subreddit.new(limit=1000),
    subreddit.top(time_filter="month", limit=1000),
    subreddit.top(time_filter="year", limit=1000),
]
</code>
                                                <p>A useful optimization is to avoid loading every available post up front. Instead, by iterating through each generator it will only import into our application one post at a time; so we load only submissions that fall within the time window we care about. By defining start and end timestamps based on our criteria, we can stop early and reduce unnecessary data imports which can considerably increase the execution time when working with a long list of subreddits:</p>
                                                <code>for generator in generators:
    for submission in generator:
        if start_timestamp <= submission.created_utc < end_timestamp:
            # deduplicate by post id:
            if submission.id not in seen_ids:
                # save the data
</code>

                                                <h2>2. Preprocessing: minimal</h2>
                                                <p>For sentence-transformer embeddings, heavy text cleaning is often counterproductive. Use minimal normalization to preserve meaning while removing artifacts that do not help semantics.</p>

                                                <p>Practical steps:</p>
                                                <ul>
                                                    <li><p>Replace URLs/emails/users with placeholders (e.g., [URL], [EMAIL], [USER])</p></li>
                                                    <li><p>Normalize Reddit references like u/username and r/subreddit and common community jargon.</p></li>
                                                    <li><p>Filter language (e.g., keep English-only if using an English embedding model, or all if using multi-lingual)</p></li>
                                                </ul>


                                                <h2>3. Topic Modeling with BERTopic</h2>
                                                <p><a href="https://maartengr.github.io/BERTopic/index.html" target="_blank">BERTopic</a> is a strong choice for noisy, short-form community text because it combines transformer embeddings with clustering that tends to produce coherent, semantically meaningful groups.</p>

                                                <p>We recomend exploring <a href="https://huggingface.co/spaces/mteb/leaderboard" target="_blank">Hugging Face MTEB leaderboards</a> to find a high-quality sentence transformer for Reddit sentence-to-sentence tasks (e.g. <a href="https://huggingface.co/sentence-transformers/all-mpnet-base-v2" target="_blank">all-mpnet-base-v2</a>).</p>

                                                <p>A common BERTopic stack is UMAP for dimensionality reduction and HDBSCAN for density-based clustering. Parameter choices will control the tradeoff between over-fragmentation (too many tiny clusters) and over-merging (topics too broad).</p>

                                                <h3>Probability thresholding</h3>
                                                <p>The pipeline yields outlier posts into a single -1 topic. But even when HDBSCAN assigns a real topic, the clustered posts may have a low probability of belonging. Natively the BERTopic pipeline doesn't have a minimum probability parameter. In our solution we calculated the probabilities for all posts belonging to the group, and then we applied the threshold ourselves:</p>
                                                <code>topics, probs = topic_model.fit_transform(docs, embeddings)
[... saved results in a dataframe ...]

low_prob_mask = (df['topic_id'] >= 0) & (df['probability'] < prob_threshold)
# then move all low probability posts to outliers (-1):
df.loc[low_prob_mask, 'topic_id'] = -1
</code>
                                                <h3>Using LLM to label topics</h3>
                                                <p>A frequent failure mode of topic modeling is interpretability: clusters exist, but “top words” labels are noisy. A lightweight LLM labeling layer can generate concise, human-readable topic names and dramatically improve stakeholder adoption.</p>

                                                <p>In our case, we used OpenAI as the LLM provider. Alternatives include keyword-based representations, smaller local LLMs, or zero-shot classifiers. The best choice depends on cost, latency, and privacy constraints.</p> 

                                                <p>BERTopic has its own integration for OpenAI representations, so implementation is fairly straightforward:</p>
                                                <code>from bertopic.representation import OpenAI
openai_generator = OpenAI(
  [...]
)
topic_model = BERTopic(
  representation_model=openai_generator,
  [...]
)
</code>


                                                <h2>4. Trend scoring</h2>
                                                <p>Once you have topic clusters, you need a ranking function that surfaces acceleration, not just volume. A simple “count of posts this week” misses intensity, growth, and the difference between stable popularity and emerging interest (trends!). It can vary from use to use case how you implement the trend scoring; in our case we used a recency-weighted engagement growth:</p>

                                                <h3>Engagement scoring</h3>
                                                <p>We computed an engagement weight per post using a blend of upvotes and comments.</p>
                                                <figure style="margin: 1.5rem auto;">
                                                  <img src="images/portfolio/formula-trendscore-1.jpeg" alt="Image" class="aligncenter" style="margin-left:0px;"/>
                                                  <figcaption style="margin-top: 0.4rem;font-size: 0.85rem;color: #555;line-height: 1.3;">C<sub>0</sub> and U<sub>0</sub> represent constant values used for scaling.</figcaption>
                                                </figure>  

                                                <p>The formula applies logarithmic scaling so a single viral post does not dominate everything and volumne of distinct posts still matters.</p>

                                                <h3>Recency weighting</h3>
                                                <p>We applied a basic half-life time decay curve so that recent activity counts more than older activity.</p>
                                                 
                                                <figure style="margin: 1.5rem auto;">
                                                  <img src="images/portfolio/formula-trendscore-2.jpeg" alt="Image" class="aligncenter" style="margin-left:0px;"/>
                                                  <figcaption style="margin-top: 0.4rem;font-size: 0.85rem;color: #555;line-height: 1.3;"><p>W<sub>T</sub> is the weight we apply to the corresponding day's aggergated value.</p> </figcaption>
                                                </figure>

                                                <h3>Growth: relative change</h3>
                                                <p>In the process configuration we establish the time windoes we want to compare to identify trends. As we were running fortnightly executions of the pipeline we went for the last 2 weeks as the trending period and the prior 6 weeks as the comparison period. This provided a long window to compare what normal activity looks like, making it easy to highlight trends.</p>
                                                <figure style="margin: 1.5rem auto;">
                                                  <img src="images/portfolio/formula-trendscore-3.jpeg" alt="Image" class="aligncenter" style="margin-left:0px;"/>
                                                  <figcaption style="margin-top: 0.4rem;font-size: 0.85rem;color: #555;line-height: 1.3;">The normalized and decayed values.</figcaption>
                                                </figure>
                                                <figure style="margin: 1.5rem auto;">
                                                  <img src="images/portfolio/formula-trendscore-4.jpeg" alt="Image" class="aligncenter" style="margin-left:0px;"/>
                                                  <figcaption style="margin-top: 0.4rem;font-size: 0.85rem;color: #555;line-height: 1.3;">The relative change between the periods. Epsilon floor prevents "infinite" growths.</figcaption>
                                                </figure>

                                                <h3>Momentum: is it still accelerating?</h3>
                                                <p>Finaly, as a last optimization we added momentum into our trend calculation. Many topics spike and fade. Adding momentum helps to distinguish if the topic is "still rising" or "already cooling".</p>
                                                <figure style="margin: 1.5rem auto;">
                                                  <img src="images/portfolio/formula-trendscore-5.jpeg" alt="Image" class="aligncenter" style="margin-left:0px;"/>
                                                </figure>
                                                <p>And we adjust the growth with this bonus:</p>
                                                <figure style="margin: 1.5rem auto;">
                                                  <img src="images/portfolio/formula-trendscore-7.jpeg" alt="Image" class="aligncenter" style="margin-left:0px;"/>
                                                </figure>

                                                <h2>5. Outputs, making trends usable</h2>
                                                <p>The outcome of this process should help humans validate and act. We destinated a top Reddit trends suggestions generation showing for the highest growth topics:</p>

                                                <ul>
                                                    <li><p>LLM-generated topic label</p></li>
                                                    <li><p>Adjusted growth</p></li>
                                                    <li><p>Job-to-be-done categorization for the topic</p></li>
                                                    <li><p>Representative posts with permalinks (so that we can validate)</p></li>
                                                </ul>

                                                <p>A few examples of trending topic labels that were generated by the process:</p>
                                                <ul>
                                                    <li><p>Christmas-themed AI creative prompts</p></li>
                                                    <li><p>Fluid simulation and liquid effects tips</p></li>
                                                    <li><p>Netflix aquisition of Warner Bros</p></li>
                                                    <li><p>Impact of AI on the animation industry</p></li>
                                                </ul>

                                                <h2>Challenges with this solution</h2>
                                                <p>Found most of our issues on cost and memory, as we were running on limited computing resources; embeddings + clustering can be RAM-heavy, we ended up implementing a coreset solution to limit the amount of documents the model is transformed on → then map the remainder of posts to the clusters generated by the coreset.</p>

                                                <p>Duplicates was another challenge. For the generated cluesters and topic labels we had to implement an additional Semantic Textual Similarity (STS) step to merge near-identical groups.</p>

                                                <h2>Use cases</h2>
                                                <p>A few use cases that benefit from programmatically generating trends suggestions:</p>
                                                <ul>
                                                    <li><p><b>Content and SEO:</b> publish earlier on emerging topics and capture demand before competitors. Boost visibility in Search Engines and Answer Engines for trending topics.</p></li>
                                                    <li><p><b>Product signals:</b> detect pain points, bugs, and feature demand from community chatter.</p></li>
                                                    <li><p><b>Forecasting:</b> predict what creators will build next by watching tools, workflows, and aesthetics.</p></li>
                                                    <li><p><b>Dashboards and alerting:</b>store daily scores and notify teams when topics cross thresholds.</p></li>
                                                </ul>

                                                <h2>In Conclusion</h2>
                                                <p>A practical trends suggestions engine is a clean sequence: gather the right data, represent it semantically, cluster into coherent topics, label topcis so humans can act, and rank by acceleration rather than raw volume. Swap Reddit for any other timestamped text source and this playbook still holds!</p>
                                          
                                          
                                              <!-- .entry-meta -->
                                              <footer class="entry-meta tags">
                                                <a href="#" rel="tag">data</a> <a href="#" rel="tag">python</a> <a href="#" rel="tag">ai/ml</a>
                                              </footer>
                                              <!-- .entry-meta -->
                                            
                                            
                                            
                                          </div>
                                          <!-- .entry-content -->
                                          
                                          
                                        
                                        
                                        
                                        
                                        <!-- .nav-single -->
                                        <nav class="nav-single row">
                                        
                                            <div class="nav-previous col-sm-6">
                                                <h6>PREVIOUS POST</h6>
                                                <h5><a href="projects\SentimentAnalysisCoLSTM-es.pdf" rel="prev"><span class="meta-nav">←</span>Sentiment Analysis CoLSTM</a></h5>
                                            </div>
                                            
                                            <div class="nav-next col-sm-6">
                                                <h6>NEXT POST</h6>
                                                <h5><a href="transformer-embeddings-pipeline-optimization.html" rel="next">Transformer Embeddings Pipeline Optimizations<span class="meta-nav">→</span></a></h5>
                                            </div>
                                            
                                        </nav>
                                        <!-- .nav-single --> 
                                        
                                        
                                        

                                          
                                          
                                          <!-- #respond --> 
                                          <div id="respond">
                                          
                                            <h3 id="reply-title">Leave a comment <small><a rel="nofollow" id="cancel-comment-reply-link" href="#" style="display:none;">Cancel reply</a></small></h3>
                                            
                                            <!-- .commentform -->
                                            <form action="#" method="post" id="commentform">
                                            
                                              <p class="comment-notes">Your email address will not be published. Required fields are marked <span class="required">*</span></p>
                                              
                                              <p class="comment-form-comment">
                                                <label for="comment">Comment</label>
                                                <textarea id="comment" name="comment" rows="8" aria-required="true"></textarea>
                                              </p>
                                              
                                              <p class="comment-form-author">
                                                <label for="author">Name <span class="required">*</span></label>
                                                <input id="author" name="author" type="text" size="30" aria-required="true">
                                              </p>
                                              
                                              <p class="comment-form-email">
                                                <label for="email">Email <span class="required">*</span></label>
                                                <input id="email" name="email" type="text" size="30" aria-required="true">
                                              </p>
                                              
                                              
                                              <p class="form-allowed-tags">You may use these <abbr title="HyperText Markup Language">HTML</abbr> tags and attributes: <code>&lt;a href="" title=""&gt; &lt;abbr title=""&gt; &lt;acronym title=""&gt; &lt;b&gt; &lt;blockquote cite=""&gt; &lt;cite&gt; &lt;code&gt; &lt;del datetime=""&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=""&gt; &lt;strike&gt; &lt;strong&gt; </code></p>
                                              
                                              <p class="form-submit">
                                                <input type="submit" class="button primary" value="Post Comment">
                                              </p>
                                              
                                            </form>
                                            <!-- .commentform -->
                                            
                                          </div>
                                          <!-- #respond --> 
                                          
                                        </div>
                                        <!-- #comments -->
                
                
                                </div>
                                <!-- .blog-single --> 
                
                
                </div>
                            <!-- site-content -->
                    
                        </div>
                        <!-- primary -->    
                    
                    
                        
                    
                    
                    </div>
                    <!-- layout -->
                
                
                </div>
                <!-- site-middle -->
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                    <!-- .site-footer -->
                    <footer id="colophon" class="site-footer" role="contentinfo">
                        
                        <!-- .site-info --> 
                        <div class="site-info">
                            <div class="textwidget">
                                <p><p>&copy; 2025</p></p>
                            </div>
                        </div>
                        <!-- .site-info --> 
                        
                    </footer>
                    <!-- .site-footer --> 
    
                
                
                    
        </main>
                <!-- .site-main -->
                
                



                <!-- ALERT : used for contact form mail delivery alert -->
                <div class="site-alert animated"></div>
                
                
                
                
            </div>
            <!-- PAGE -->
        
        
        
        
        <!-- SCRIPTS -->
		<script src="js/fastclick.js"></script>
        <script src="js/jquery.address.js"></script>
        <script src="js/nprogress/nprogress.js"></script>
        <script src="js/jquery.isotope.min.js"></script>
        <script src="js/imagesloaded.pkgd.min.js"></script>
        <script src="js/jquery.fitvids.js"></script>
        <script src="js/jquery.magnific-popup/jquery.magnific-popup.min.js"></script>
        <script src="js/jquery.easing.1.3.js"></script>
        <script src="js/jquery.validate.min.js"></script>

        
		<!-- <script src="https://maps.googleapis.com/maps/api/js"></script> -->
      	<!-- 
            Uncomment the script code above
            
        	Get Google Map Api Key
        	https://developers.google.com/maps/documentation/javascript/get-api-key
            
            Get your google map api key and uncomment the script code below and paste your api key.
        --> 
        <!--<script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY_HERE"></script>-->
        
        <script src="js/main.js"></script>
        
	</body>
</html>